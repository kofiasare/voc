(function(t){function e(e){for(var a,i,s=e[0],l=e[1],c=e[2],u=0,f=[];u<s.length;u++)i=s[u],r[i]&&f.push(r[i][0]),r[i]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,s=1;s<n.length;s++){var l=n[s];0!==r[l]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},r={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var d=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var a=n("c21b"),r=n.n(a);r.a},"0f1e":function(t,e,n){"use strict";var a=n("6690"),r=n.n(a);r.a},4839:function(t,e,n){"use strict";var a=n("cbc1"),r=n.n(a);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("org-chart",{attrs:{datasource:t.ds,nodeContent:"title"},on:{"node-click":t.selectNode}})],1)},o=[],i=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._b({staticClass:"orgchart-container",on:{wheel:function(e){t.zoom&&t.zoomHandler(e)},mouseup:function(e){t.pan&&t.panning&&t.panEndHandler(e)}}},"div",{scopedSlots:t.$scopedSlots},!1),[n("div",{staticClass:"orgchart",style:{transform:t.transformVal,cursor:t.cursorVal},on:{mousedown:function(e){t.pan&&t.panStartHandler(e)},mousemove:function(e){t.pan&&t.panning&&t.panHandler(e)}}},[n("organization-chart-node",{attrs:{datasource:t.datasource,"handle-click":t.handleClick,nodeTitle:t.nodeTitle,nodeContent:t.nodeContent},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots),function(e){return{key:e,fn:function(n){return[t._t(e,null,null,n)]}}})])})],1)])}),s=[],l=(n("28a5"),n("c5f6"),n("1157")),c=n.n(l),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",[n("tbody",[n("tr",[n("td",{attrs:{colspan:t.datasource.children&&t.datasource.children.length?2*t.datasource.children.length:null}},[n("div",{staticClass:"node",attrs:{id:t.datasource.id},on:{click:function(e){e.stopPropagation(),t.handleClick({$event:e,nodeData:t.datasource})}}},[t._t("default",[n("div",{staticClass:"title"},[t._v(t._s(t.datasource[t.nodeTitle]))]),t.nodeContent?n("div",{staticClass:"content"},[t._v(t._s(t.datasource[t.nodeContent]))]):t._e()],{nodeData:t.datasource})],2)])]),t.datasource.children&&t.datasource.children.length?[n("tr",{staticClass:"lines"},[n("td",{attrs:{colspan:2*t.datasource.children.length}},[n("div",{staticClass:"downLine"})])]),n("tr",{staticClass:"lines"},[n("td",{staticClass:"rightLine"}),t._l(t.datasource.children.length-1,function(t){return[n("td",{staticClass:"leftLine topLine"}),n("td",{staticClass:"rightLine topLine"})]}),n("td",{staticClass:"leftLine"})],2),n("tr",{staticClass:"nodes"},t._l(t.datasource.children,function(e){return n("td",{key:e.id,attrs:{colspan:"2"}},[n("node",{attrs:{datasource:e,"handle-click":t.handleClick,nodeContent:t.nodeContent},scopedSlots:t._u([t._l(Object.keys(t.$scopedSlots),function(e){return{key:e,fn:function(n){return[t._t(e,null,null,n)]}}})])})],1)}))]:t._e()],2)])},u=[],f={name:"node",props:{datasource:Object,handleClick:Function,nodeTitle:{type:String,default:"name"},nodeContent:{type:String,default:""}},methods:{}},p=f,h=(n("0f1e"),n("2877")),m=Object(h["a"])(p,d,u,!1,null,null,null);m.options.__file="OrganizationChartNode.vue";var g=m.exports,v={name:"Container",props:{datasource:{type:Object,required:!0},pan:{type:Boolean,required:!1},zoom:{type:Boolean,required:!1},zoomoutLimit:{type:Number,required:!1,default:.5},zoominLimit:{type:Number,required:!1,default:7},nodeTitle:{type:String,default:"name"},nodeContent:{type:String,default:""}},data:function(){return{cursorVal:"default",panning:!1,startX:0,startY:0,transformVal:""}},components:{OrganizationChartNode:g},methods:{handleClick:function(t){this.$emit("node-click",t)},panEndHandler:function(){this.panning=!1,this.cursorVal="default"},panHandler:function(t){var e=0,n=0;if(t.targetTouches){if(1===t.targetTouches.length)e=t.targetTouches[0].pageX-this.startX,n=t.targetTouches[0].pageY-this.startY;else if(t.targetTouches.length>1)return}else e=t.pageX-this.startX,n=t.pageY-this.startY;if(""===this.transformVal)-1===this.transformVal.indexOf("3d")?this.transformVal="matrix(1,0,0,1,"+e+","+n+")":this.transformVal="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,"+e+", "+n+",0,1)";else{var a=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(a[4]=e,a[5]=n+")"):(a[12]=e,a[13]=n),this.transformVal=a.join(",")}},panStartHandler:function(t){if(c()(t.target).closest(".node").length)this.panning=!1;else{this.cursorVal="move",this.panning=!0;var e=0,n=0;if(""!==this.transformVal){var a=this.transformVal.split(",");-1===this.transformVal.indexOf("3d")?(e=parseInt(a[4]),n=parseInt(a[5])):(e=parseInt(a[12]),n=parseInt(a[13]))}if(t.targetTouches){if(1===t.targetTouches.length)this.startX=t.targetTouches[0].pageX-e,this.startY=t.targetTouches[0].pageY-n;else if(t.targetTouches.length>1)return}else this.startX=t.pageX-e,this.startY=t.pageY-n}},setChartScale:function(t){var e="",n=1;""===this.transformVal?this.transformVal="matrix("+t+", 0, 0, "+t+", 0, 0)":(e=this.transformVal.split(","),-1===this.transformVal.indexOf("3d")?(n=Math.abs(window.parseFloat(e[3])*t),n>this.zoomoutLimit&&n<this.zoominLimit&&(e[0]="matrix("+n,e[3]=n,this.transformVal=e.join(","))):(n=Math.abs(window.parseFloat(e[5])*t),n>this.zoomoutLimit&&n<this.zoominLimit&&(e[0]="matrix3d("+n,e[5]=n,this.transformVal=e.join(","))))},zoomHandler:function(t){var e=1+(t.deltaY>0?-.2:.2);this.setChartScale(e)}}},b=v,C=(n("4839"),Object(h["a"])(b,i,s,!1,null,null,null));C.options.__file="OrganizationChartContainer.vue";var _=C.exports,y={name:"app",components:{OrgChart:_},data:function(){return{ds:{id:"1",name:"Lao Lao",title:"general manager",children:[{id:"2",name:"Bo Miao",title:"department manager"},{id:"3",name:"Su Miao",title:"department manager",children:[{id:"4",name:"Tie Hua",title:"senior engineer"},{id:"5",name:"Hei Hei",title:"senior engineer",children:[{id:"6",name:"Pang Pang",title:"engineer"},{id:"7",name:"Xiang Xiang",title:"UE engineer"}]}]},{id:"8",name:"Hong Miao",title:"department manager"},{id:"9",name:"Chun Miao",title:"department manager"}]}}},methods:{selectNode:function(t){console.log(t),alert("node "+t.nodeData.name+" is selected")}}},O=y,V=(n("034f"),Object(h["a"])(O,r,o,!1,null,null,null));V.options.__file="App.vue";var S=V.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(S)}}).$mount("#app")},6690:function(t,e,n){},c21b:function(t,e,n){},cbc1:function(t,e,n){}});
//# sourceMappingURL=app.c4a5e593.js.map